<!DOCTYPE html>
<html lang="en" ng-app="myApp">

  <head>
    <title>HW#8</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="dirPagination.js"></script>

  </head>
    <style>
   
#wrapper.toggled #page-content-wrapper{
    padding-left: 0px;
    top:3.5em;
}
        #sidebar-wrapper{
            padding-left: 190px;
        }
        #wrapper.toggled #sidebar-wrapper{
            padding-left: 0.01em;
        }
        
#sidebar-wrapper {
    z-index: 10;
    position: fixed;
    height: 100%;
    margin-left: -200px;
}

#page-content-wrapper {
    width: 100%;
    position: absolute;
    top: 3.5em;
    padding-left: 160px;
}        
        
.sidebarmenu {
      position: fixed;
      top: 3.5em;
      padding: 1em;
      display: block;
      color: gainsboro;
      font-size: 1em;
      height: 100%;
      color: gainsboro;
      z-index: 1;
      background-color: #111;
      transition: none;
      
    }
    .mySidenav a {
      padding: 1em;
      display: block;
      color: gainsboro;
      font-size: 130%;
      -webkit-transition: none !important;
      transition: none !important;
    }
    .mySidenav a:hover {
      color: white;
    }
        
    
    hr {
      width: 98%;
      background-color: black;
    }    
    .container-fluid {
      position: fixed;
      background-color: white;
      left: 0px;
      top: 0px;
      z-index: 10;
        width: 100%;
    }    
    @media screen and (max-width: 766px) {
        #page-content-wrapper{
            padding-left: 5em;
        }
         #wrapper.toggled #page-content-wrapper {
        padding: 0em;
    }
        
        #noSpace{
               padding: 0px;
           }
        #search{
               width: 5em;
           }
           #pdf{
               width:17em!important;
           } 
         
           
      
      #sel {
        width: 10em!important;
      }
        #a,#b,#c,#e{
            display: none;
        }

   
}    
        
     
         #pdf{
              width:50em ;
              height:44em;
          }
        
      
    
      #sel{
          width:11em;
      }
        .container-fluid {
      position: fixed;
      background-color: white;
      left: 0px;
      top: 0px;
      z-index: 10;
        width: 100%;
    }
        
       .glyphicon.glyphicon-star-empty{
          font-size: 1.1em;
        }
      
    
      .custom1{
          font-size: 1.1em;
          color: gold;
           text-shadow:0 0 1px  black,0 0 1px  black,0 0 1px  black,0 0 1px  black ;
      }
      
      .progress-bar{
          color: white;
          background-color: green;
      }  

          .nav-tabs>li>a{
          color: darkgrey;    
          } 
        
    </style>
    
    
    
   

  <body>
      <div ng-controller="myData">
          <div id="wrapper">
      <div class="container-fluid">
        <table class="top">
          <tr>
            <td><i style="font-size:15px;cursor:pointer" class="glyphicon glyphicon-menu-hamburger" id="showmenu"></i></td>
            <td width="100%" align="center">
              <h4><a target="_blank" href="http://sunlightfoundation.com"><img style="width:5em;" src="http://cs-server.usc.edu:45678/hw/hw8/images/logo.png"></a>Congress API</h4></td>
          </tr>
        </table>
      </div>


          
              
              <div id="sidebar-wrapper">
      <div class="sidebarmenu">
        <div class="mySidenav" id="mySidenav">
          <a class="active" href="#legislator"><i class="glyphicon glyphicon-user"><span class="mySidenav-text hidden-xs"> Legislators</span></i></a>
          <a href="#bil" id="bill"><i class="glyphicon glyphicon-file"><span class="mySidenav-text hidden-xs"> Bills</span></i></a>
          <a href="#comm" id="com"><i class="glyphicon glyphicon-log-in"><span class="mySidenav-text hidden-xs"> Committees</span></i></a>
          <a href="#fav" id="favi" ng-click="refresh()"><i class="glyphicon glyphicon-star" aria-hidden="true"><span class="mySidenav-text hidden-xs"> Favorites</span></i></a>
        </div>
      </div>
              </div>
                  
         
        <div id="page-content-wrapper">
      <div id="main">
        <div id="legislator" class="toggle">
          <div class="panel-group">
            <div class="panel panel-default">
              <div class="panel-heading">

                  <h3 style="margin:20px"> Legislator</h3>
                <hr style="height:1px">
                <div class="panel-body">

                  <div id="myCarousel" class="carousel slide" data-interval="false">
                    <div class="carousel-inner">
                      <div class="item active" data-slide="next">

                        <div class="panel panel-default" data-toggle="collapse">
                          <ul class="nav nav-tabs" role="tablist" id="tabs">
                            <li role="presentation" class="active"><a href="#state" role="tab" data-toggle="tab">By State</a></li>
                            <li role="presentation"><a href="#house" role="tab" data-toggle="tab">House</a></li>
                            <li role="presentation"><a href="#senate" role="tab" data-toggle="tab">Senate</a></li>
                          </ul>

                          <div class="tab-content" class="collapse">

                            <div role="tabpanel" class="tab-pane active" id="state">

                              <div class="panel-body" id="noSpace">
                                <div class="panel panel-default">

                                    <div class="panel-heading" style="height: 3.5em"><div class="row"><div class="col-xs-6 col-md-8"><b>Legislator By State</b></div>

                                    <div class="col-xs-6 col-md-4">
                                    <div class="form-group" style="float:right">
                                      <select class="form-control" id="sel" ng-model="selectedOpt" ng-change="getSelectedValue(selectedOpt)">
                                        <option selected="selected" value="">all states</option>
                                        <option value="AL">Alabama</option>
                                        <option value="AK">Alaska</option>
                                        <option value="AZ">Arizona</option>
                                        <option value="AR">Arkansas</option>
                                        <option value="CA">California</option>
                                        <option value="CO">Colorado</option>
                                        <option value="CT">Connecticut</option>
                                        <option value="DE">Delaware</option>
                                        <option value="DC">District Of Columbia</option>
                                        <option value="FL">Florida</option>
                                        <option value="GA">Georgia</option>
                                        <option value="HI">Hawaii</option>
                                        <option value="ID">Idaho</option>
                                        <option value="IL">Illinois</option>
                                        <option value="IN">Indiana</option>
                                        <option value="IA">Iowa</option>
                                        <option value="KS">Kansas</option>
                                        <option value="KY">Kentucky</option>
                                        <option value="LA">Louisiana</option>
                                        <option value="ME">Maine</option>
                                        <option value="MD">Maryland</option>
                                        <option value="MA">Massachusetts</option>
                                        <option value="MI">Michigan</option>
                                        <option value="MN">Minnesota</option>
                                        <option value="MS">Mississippi</option>
                                        <option value="MO">Missouri</option>
                                        <option value="MT">Montana</option>
                                        <option value="NE">Nebraska</option>
                                        <option value="NV">Nevada</option>
                                        <option value="NH">New Hampshire</option>
                                        <option value="NJ">New Jersey</option>
                                        <option value="NM">New Mexico</option>
                                        <option value="NY">New York</option>
                                        <option value="NC">North Carolina</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="OH">Ohio</option>
                                        <option value="OK">Oklahoma</option>
                                        <option value="OR">Oregon</option>
                                        <option value="PA">Pennsylvania</option>
                                        <option value="RI">Rhode Island</option>
                                        <option value="SC">South Carolina</option>
                                        <option value="SD">South Dakota</option>
                                        <option value="TN">Tennessee</option>
                                        <option value="TX">Texas</option>
                                        <option value="UT">Utah</option>
                                        <option value="VT">Vermont</option>
                                        <option value="VA">Virginia</option>
                                        <option value="WA">Washington</option>
                                        <option value="WV">West Virginia</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="WY">Wyoming</option>
                                      </select>
                                        </div></div></div>

                                  </div>

                                  <div class="panel-body" id="noSpace">
                                    <div class="center-block">

                                      <div class="table-responsive">
                                        <table class="table">

                                          <thead class="text-center">

                                            <tr class="text-center">

                                              <th class="text-center">Party</th>

                                              <th class="text-center">Name</th>

                                              <th class="text-center">Chamber</th>

                                              <th class="text-center">District</th>

                                              <th class="text-center">State</th>

                                              <th class="text-center"></th>

                                            </tr>

                                          </thead>

                                          <tbody id="table" class="text-center">

                                            <tr dir-paginate="x in legis2|filter:{state:selectedOpt} || undefined|orderBy: 'state' || 'last_name'|itemsPerPage:10" pagination-id="abc" >

                                              <td><img width="25" height="25" ng-src="{{urlList[x.chamber]}}"> </td>

                                              <td>{{x.last_name + ', ' + x.first_name}}</td>

                                              <td><img width="25" height="25" ng-src="{{pic[x.chamber]}}"> {{x.chamber | capitalize}}</td>

                                              <td>{{'District ' + x.district}}</td>

                                              <td>{{state[x.state]}}</td>

                                              <td>
                                                <button type="button" class="btn btn-primary" ng-click="getId(x.bioguide_id,x.chamber)" data-slide="next" >View Detail</button>
                                              </td>

                                            </tr>

                                          </tbody>
                                        </table>
                                        <div class="text-center">
                                          <dir-pagination-controls pagination-id="abc" max-size="10" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                              </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="house">
                              <div class="panel-body" id="noSpace">
                                <div class="panel panel-default">

                                    <div class="panel-heading" style="height: 3.5em"><div class="row"><div class="col-xs-6 col-md-8"><b>Legislator By House</b></div>
                                    <div class="col-xs-6 col-md-4">
                                    <div class="form-group" style="float:right">
                                      <input class="form-control" type="text" placeholder="search"  ng-model="searchHouse">

                                        </div></div></div>

                                  </div>

                                  <div class="panel-body" id="noSpace">

                                    <div class="center-block">

                                      <div class="table-responsive">
                                        <table class="table">

                                          <thead class="text-center">

                                            <tr class="text-center">

                                              <th class="text-center">Party</th>

                                              <th class="text-center">Name</th>

                                              <th class="text-center">Chamber</th>

                                              <th class="text-center">District</th>

                                              <th class="text-center">State</th>

                                              <th class="text-center"></th>

                                            </tr>

                                          </thead>

                                          <tbody id="table" class="text-center">

                                            <tr dir-paginate="x in legis1|filter: x: x.chamber='house'|orderBy:'last_name'|filter:searchHouse|itemsPerPage:10" pagination-id="abc1">

                                              <td><img width="25" height="25" ng-src="{{urlList[x.chamber]}}" image </td>

                                                <td>{{x.last_name + ', ' + x.first_name}}</td>

                                                <td><img width="25" height="25" ng-src="{{pic[x.chamber]}}"> {{x.chamber | capitalize}}</td>

                                                <td>{{'District ' + x.district}}</td>

                                                <td>{{state[x.state]}}</td>

                                                <td>
                                                  <button type="button" class="btn btn-primary" ng-click="getId(x.bioguide_id,x.chamber)" data-slide="next">View Detail</button>
                                                </td>

                                            </tr>

                                          </tbody>
                                        </table>
                                        <div class="text-center">
                                          <dir-pagination-controls pagination-id="abc1" max-size="6" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                        </div>
                                      </div>


                                    </div>

                                  </div>
                                </div>
                              </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="senate">

                              <div class="panel-body" id="noSpace">
                                <div class="panel panel-default">

                                    <div class="panel-heading" style="height: 3.5em"><div class="row"><div class="col-xs-6 col-md-8"><b>Legislator By Senate</b></div>
                                        <div class="col-xs-6 col-md-4">
                                    <div class="form-group" style="float:right">
                                      <input class="form-control" type="text" placeholder="search"  ng-model="search">

                                            </div></div></div>

                                  </div>

                                  <div class="panel-body" id="noSpace">

                                    <div class="table-responsive">

                                      <div class="center-block">

                                        <table class="table">

                                          <thead class="text-center">

                                            <tr class="text-center">

                                              <th class="text-center">Party</th>

                                              <th class="text-center">Name</th>

                                              <th class="text-center">Chamber</th>

                                              <th class="text-center">District</th>

                                              <th class="text-center">State</th>

                                              <th class="text-center"></th>

                                            </tr>

                                          </thead>

                                          <tbody id="table" class="text-center">

                                            <tr dir-paginate="x in legis|filter: x: x.chamber='senate'|orderBy:'last_name'|filter:search|itemsPerPage:10" pagination-id="abc2">


                                              <td><img width="25" height="25" ng-src="{{urlList[x.chamber]}}" image</td>

                                                <td>{{x.last_name + ', ' + x.first_name}}</td>

                                                <td><img width="25" height="25" ng-src="{{pic[x.chamber]}}"> {{x.chamber | capitalize}}</td>

                                                <td>{{'District ' + x.district}}</td>

                                                <td>{{state[x.state]}}</td>

                                                <td>
                                                  <button type="button" class="btn btn-primary" ng-click="getId(x.bioguide_id,x.chamber)" data-slide="next">View Detail</button>
                                                </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <div class="text-center">
                                          <dir-pagination-controls pagination-id="abc2" max-size="6" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                        </div>

                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="item" ng-hide="noData">
                          
                        <div ng-repeat="p in newLeg">
                          <div class="panel panel-default">
                            <div class="panel-body"><a href="#myCarousel" class="btn btn-default" data-slide="prev"><i class=" glyphicon glyphicon-chevron-left"></i></a><span style="font-size:1.5em">&nbsp;&nbsp;Details</span><span class="pull-right"><a ng-click="legFav(p)" class="btn btn-default"><i id="{{p.bioguide_id}}" ng-class="star(p.bioguide_id)" ></i></a></span>
                              <div class="panel panel-default">
                               
                            <div class="row">
                               
                              <div class="col-md-6 col-xs-12">
                                  <div class="row">
                                        <div class=" col-md-6 col-xs-12" align="center">
                                      <img height="200px" ng-src="http://theunitedstates.io/images/congress/original/{{p.bioguide_id}}.jpg">
                                        </div>
                                        
                                        <div class="col-xs-12 col-md-6">
                                   <div class="table-responsive">
                                    <table class="table">
                                    
                                        <tr><td>{{p.title+'. '+p.last_name+', '+p.first_name}}</td> </tr>
                                              
                                      
                                       <tr> <td ><a href="{{p.website}}" target="_blank">{{p.website}}</a></td></tr>
                                      
                                      
                                       <tr> <td >Chamber: {{p.chamber | capitalize}}</td></tr>
                                      
                                      
                                       <tr> <td >Contact: <a href="{{p.phone}}">{{p.phone}}</a></td></tr>
                                      
                                      
                                        <tr><td ><img width="25" height="25" ng-src="{{urlList[p.chamber]}}"> {{partyCheck[p.party]}}</td></tr>
                                      
                                      </table>
                                        </div>
                                      </div>
                                  </div>
                                        
                                <div class="table-responsive">
                                    <table class="table">
                                        
                                       <tr> <td id="c"><b>Start Term</b></td><td>{{p.term_start | date : "longDate" }}</td></tr>
                                        
                                      
                                      <tr><td id="c"><b>End Term</b></td> <td>{{p.term_end | date : "longDate"}}</td></tr>
                                                                
                                                                                                                     
                                      <tr> <td id="c"><b>Term</b></td>
                                       
                                        <td id="c">
                                          <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{(n-dateLeg(p.term_start))/(dateLeg(p.term_end)-dateLeg(p.term_start))*100 | number:2}}%">
                                              {{(n-dateLeg(p.term_start))/(dateLeg(p.term_end)-dateLeg(p.term_start))*100 | number:2}}%
                                            </div>
                                          </div>
                                          </td></tr>
                                      
                                      <tr><td id="c"><b>Office</b></td><td>{{p.office}}</td></tr>
                                      
                                      <tr><td id="c"><b>State</b></td><td>{{p.state_name}}</td> </tr>
                                                                            
                                      <tr><td id="c"><b>Fax</b></td><td><a href="{{p.fax}}">{{p.fax}}</a></td> </tr>
                                
                                        <tr><td id="c"><b>Birthday</b></td>  <td>{{p.birthday}}</td>
                                        
                                      
                                      
                                      <tr>
                                        <td id="c"><b>Social Links</b></td>
                                        <td>
                                            <span ng-hide="{{checkTwitter(p)}}"><a href="http://twitter.com/{{p.twitter_id}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png"></a></span>&nbsp;&nbsp;
                                          
                                            <span ng-hide="{{checkFacebook(p)}}"><a href="http://www.facebook.com/{{p.facebook_id}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png"></a></span>                                            
                                            &nbsp;&nbsp;
                                          <a href="{{p.website}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png"></a>
                                        </td>
                                      </tr>
                                    </table>
                                  </div>
                                    
                                  </div>
                                  
                                  
                            
                                <div class="col-md-6 col xs-12">
                                  <div ng-hide="noComm">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr width="10%">
                                            <th>
                                              <h4>Committee</h4></th>
                                            <tr width="10%">
                                              <th>Chamber</th>
                                              <th>Chamber ID</th>
                                              <th id="b">Name</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          <tr ng-repeat="r in newComm" width="10%">
                                            <td>{{r.chamber | capitalize}}</td>
                                            <td>{{r.committee_id | uppercase}}</td>
                                            <td id="b">{{r.name}}</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <div ng-hide="nobill">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr width="10%">
                                            <th>
                                              <h4>Bills</h4></th>
                                            <tr width="10%">
                                              <th>Bill ID</th>
                                              <th id="a">Title</th>
                                              <th id="a">Chamber</th>
                                              <th id="a">Bill Type</th>
                                              <th id="a">Congress</th>
                                              <th>Link</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          <tr ng-repeat="s in newBid" width="10%">
                                            <td>{{s.bill_id | uppercase}}</td>
                                            <td id="a" width="10%">{{s.official_title}}</td>
                                            <td id="a">{{s.chamber | capitalize}}</td>
                                            <td id="a">{{s.bill_type | uppercase}}</td>
                                            <td id="a">{{s.congress}}</td>
                                            <td><a href="{{s.last_version_urls_pdf}}" target="_blank">LINK</a></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>

                                </div>
                                  </div>
                              </div>
                                </div>  

                            </div>
                          </div>

                        </div>
                              </div>
                          </div>
                      </div>

                    </div>
                  </div>
                </div>

              </div>
            
      
        <div id="bil" class="toggle" style="display:none">
          <div class="panel-group">
            <div class="panel panel-default">
              <div class="panel-heading">

                <h3 style="margin:20px"> Bills</h3>
                <hr style="height:1px">
                <div class="panel-body">

                  <div id="myCarousel2" class="carousel slide" data-interval="false">
                    <div class="carousel-inner">
                      <div class="item active" data-slide="next">
                        <div class="panel panel-default">
                          <ul class="nav nav-tabs" role="tablist" id="tabs">
                            <li role="presentation" class="active"><a href="#active" role="tab" data-toggle="tab">Active Bills</a></li>
                            <li role="presentation"><a href="#new" role="tab" data-toggle="tab">New Bills</a></li>
                          </ul>

                          <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="active">
                              <div class="panel-body" id="noSpace">
                                <div class="panel panel-default">

                                  <div class="panel-heading" style="height: 3.5em"><b>Active Bills</b>

                                    <div class="form-group" style="float:right">
                                      <input class="form-control" type="text" placeholder="search" id="search" ng-model="searchActive">

                                    </div>

                                  </div>

                                  <div class="panel-body" id="noSpace">

                                    <div class="center-block">

                                      <div class="table-responsive">
                                        <table class="table">

                                          <thead class="text-center">

                                            <tr class="text-center">

                                              <th class="text-center">Bill ID</th>

                                              <th width="11%" class="text-center" >Bill Type</th>

                                              <th width="14%" style="align:left" id="e">Title</th>

                                              <th class="text-center">Chamber</th>

                                              <th class="text-center">Introduced On</th>
                                              <th class="text-center">Sponser</th>

                                              <th class="text-center"></th>

                                            </tr>

                                          </thead>

                                          <tbody id="table">

                                            <tr dir-paginate="y in bills|filter:searchActive|itemsPerPage:5" pagination-id="abc3">

                                              <td class="text-center">{{y.bill_id | uppercase}}</td>

                                              <td class="text-center">{{y.bill_type | uppercase}}</td>

                                              <td id="e">{{y.official_title}}</td>

                                              <td class="text-center"><img width="25" height="25" ng-src="{{pic[y.chamber]}}"> {{y.chamber | capitalize}}</td>

                                              <td class="text-center">{{y.introduced_on | date : "longDate"}}</td>

                                              <td class="text-center">{{y.sponsor.title+'.'+y.sponsor.last_name+', '+y.sponsor.first_name }}</td>

                                              <td>
                                                <button type="button" class="btn btn-primary" ng-click="getBill(y.bill_id,'first')" data-slide="next">View Detail</button>
                                              </td>

                                            </tr>

                                          </tbody>
                                        </table>
                                        <div class="text-center">
                                          <dir-pagination-controls pagination-id="abc3" max-size="1" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                        </div>
                                      </div>


                                    </div>

                                  </div>
                                </div>
                              </div>
                            </div>
                            <div role="tabpanel" class="tab-pane" id="new">

                              <div class="panel-body" id="noSpace">
                                <div class="panel panel-default">

                                  <div class="panel-heading" style="height: 3.5em"><b>New Bills</b>

                                    <div class="form-group" style="float:right">
                                      <input class="form-control" type="text" placeholder="search" id="search" ng-model="searchNew">

                                    </div>

                                  </div>

                                  <div class="panel-body" id="noSpace">

                                    <div class="table-responsive">

                                      <div class="center-block">

                                        <table class="table">

                                          <thead class="text-center">

                                            <tr class="text-center">

                                              <th class="text-center">Bill ID</th>

                                              <th width="11%" class="text-center">Bill Type</th>

                                              <th width="14%" style="align:left" id="e">Title</th>

                                              <th class="text-center">Chamber</th>

                                              <th class="text-center">Introduced On</th>
                                              <th class="text-center">Sponser</th>

                                              <th class="text-center"></th>

                                            </tr>

                                          </thead>

                                          <tbody id="table">

                                            <tr dir-paginate="j in New|filter:searchNew|itemsPerPage:5" pagination-id="abc4">

                                              <td class="text-center">{{j.bill_id | uppercase}}</td>

                                              <td class="text-center">{{j.bill_type | uppercase}}</td>

                                              <td id="e">{{j.official_title}}</td>

                                              <td class="text-center"><img width="25" height="25" ng-src="{{pic[j.chamber]}}"> {{j.chamber | capitalize}}</td>

                                              <td class="text-center">{{j.introduced_on | date : "longDate"}}</td>

                                              <td class="text-center">{{j.sponsor.title+'.'+j.sponsor.last_name+', '+j.sponsor.first_name }}</td>

                                              <td>
                                                <button type="button" class="btn btn-primary" ng-click="getBill(j.bill_id,'first')" data-slide="next">View Detail</button>
                                              </td>

                                            </tr>

                                          </tbody>
                                        </table>
                                        <div class="text-center">
                                          <dir-pagination-controls pagination-id="abc4" max-size="2" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                        </div>

                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="item" ng-hide="nope">
                        <div ng-repeat="q in newBill">
                          <div class="panel panel-default">
                            <div class="panel-body"><a href="#myCarousel2" class="btn btn-default" data-slide="prev"><i class=" glyphicon glyphicon-chevron-left"></i></a><span style="font-size:1.5em">&nbsp;&nbsp;Details</span><span class="pull-right"><a ng-click="billFav(q)" class="btn btn-default"><i id="{{q.bill_id}}"  ng-class="starBill(q.bill_id)"></i></a></span>

                              <div class="panel panel-default">

                                

                                  
                                    
                                      <div class="row">
                                           <div class="col-xs-12 col-md-6">
                                   <div class="table-responsive">
                                    <table class="table">
                                          
                                    <tr>
                                      <th>Bill ID</th>
                                      <td>{{q.bill_id | uppercase}}</td>
                                    </tr>
                                    <tr>
                                      <td id="e"><b>Title</b></td>
                                      <td id="e">{{q.official_title}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Bill Type</b></td>
                                      <td>{{q.bill_type | uppercase}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Sponsor</b></td>
                                      <td>{{q.sponsor.title +'. '+ q.sponsor.last_name +', '+ q.sponsor.first_name }}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Chamber</b></td>
                                      <td>{{q.chamber | capitalize}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Status</b></td>
                                      <td>{{statCheck[q.history.active]}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Introduced On</b></td>
                                      <td>{{q.introduced_on}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Congress URL</b></td>
                                      <td><a href="{{q.urls.congress}}" target="_blank">URL</a></td>
                                    </tr>
                                    <tr>
                                      <td><b>Version Status</b></td>
                                      <td>{{q.last_version.version_name}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Bill URL</b></td>
                                      <td><a href="{{q.last_version.urls.pdf}}" target="_blank">LINK</a></td>
                                    </tr>



                                  </table>
                                          </div></div>
                                          <div class=" col-md-6 col-xs-12" align="left">
                                        <div >
                                          <object id="pdf" data="{{q.last_version.urls.pdf}}" type="application/pdf" >
                                            <a href="q.last_version.urls.pdf"></a>
                                          </object>
                                            </div></div>
                                  
                                  </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="comm" class="toggle" style="display:none">
          <div class="panel-group">
            <div class="panel panel-default">
              <div class="panel-heading">

                <h3 style="margin:20px"> Committees</h3>
                <hr style="height:1px">
                <div class="panel-body">
                  <div class="panel panel-default">
                    <ul class="nav nav-tabs" role="tablist" id="tabs">
                      <li role="presentation" class="active"><a href="#hou" role="tab" data-toggle="tab">House</a></li>
                      <li role="presentation"><a href="#sen" role="tab" data-toggle="tab">Senate</a></li>
                      <li role="presentation"><a href="#joint" role="tab" data-toggle="tab">Joint</a></li>
                    </ul>

                    <div class="tab-content">
                      <div role="tabpanel" class="tab-pane active" id="hou">
                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>House</b>

                              <div class="form-group" style="float:right">
                                <input class="form-control" type="text" placeholder="search" id="search" ng-model="searchCommHouse">

                              </div>

                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="center-block">

                                <div class="table-responsive">
                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">
                                        <th class="text-center"></th>

                                        <th>Chamber</th>

                                        <th width="1%">Committee ID</th>

                                        <th style="align:left">Name</th>

                                        <th width="1%">Parent Committee</th>

                                        <th width="1%" class="text-center">Contact</th>
                                        <th width="3%" class="text-center">Office</th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">

                                      <tr dir-paginate="z in committee|filter: {chamber: 'house'}|orderBy:'committee_id'|filter:searchCommHouse|itemsPerPage:10" pagination-id="abc5">

                                        <td width="5%" class="text-center" ng-click="houseFav(z)"><a class="btn btn-default"><i id="{{z.committee_id}}" ng-class="starComm(z.committee_id)"></i></a></td>

                                        <td width="1%"><img width="25" height="25" ng-src="{{pic[z.chamber]}}"> {{z.chamber | capitalize}}</td>

                                        <td>{{z.committee_id}}</td>

                                        <td width="50%">{{z.name}}</td>

                                        <td width="1%">{{z.parent_committee_id}}</td>
 
                                        <td width="1%" class="text-center">{{check(z)}}</td>

                                        <td width="3%" class="text-center">{{checkOffice(z)}}</td>

                                      </tr>

                                    </tbody>
                                  </table>
                                  <div class="text-center">
                                    <dir-pagination-controls pagination-id="abc5" max-size="2" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                  </div>
                                </div>


                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="sen">

                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>Senate</b>

                              <div class="form-group" style="float:right">
                                <input class="form-control" type="text" placeholder="search" id="search" ng-model="searchCommSenate">

                              </div>

                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="table-responsive">

                                <div class="center-block">

                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">

                                        <th class="text-center"></th>

                                        <th>Chamber</th>

                                        <th width="1%">Committee ID</th>

                                        <th>Name</th>

                                        <th>Parent Committee</th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">

                                      <tr dir-paginate="z in committee|filter: {chamber: 'senate'}|filter:searchCommSenate|itemsPerPage:10" pagination-id="abc6">

                                        <td width="5%" class="text-center" ng-click="houseFav(z)"><a class="btn btn-default"><i id="{{z.committee_id}}" ng-class="starComm(z.committee_id)"></i></a></td>

                                        <td width="1%"><img width="25" height="25" ng-src="{{pic[z.chamber]}}"> {{z.chamber | capitalize}}</td>

                                        <td>{{z.committee_id}}</td>

                                        <td>{{z.name}}</td>

                                        <td>{{z.parent_committee_id}}</td>

                                      </tr>

                                    </tbody>
                                  </table>
                                  <div class="text-center">
                                    <dir-pagination-controls pagination-id="abc6" max-size="2" direction-links="true" boundary-links="true"></dir-pagination-controls>
                                  </div>

                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="joint">

                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>Joint</b>

                              <div class="form-group" style="float:right">
                                <input class="form-control" type="text" placeholder="search" id="search" ng-model="searchJoint">

                              </div>

                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="table-responsive">

                                <div class="center-block">

                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">

                                        <th class="text-center"></th>

                                        <th width="11%" class="text-center">Chamber</th>

                                        <th width="14%" style="align:left">Committee ID</th>

                                        <th>Name</th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">

                                      <tr ng-repeat="z in committee|filter: {chamber: 'joint'}|filter:searchJoint">

                                        <td class="text-center"><a class="btn btn-default" ng-click="houseFav(z)"><i id="{{z.committee_id}}" ng-class="starComm(z.committee_id)"></i></a></td>

                                        <td width="1%" class="text-center"><img width="25" height="25" ng-src="{{pic[z.chamber]}}"> {{z.chamber | capitalize}}</td>

                                        <td>{{z.committee_id}}</td>

                                        <td>{{z.name}}</td>

                                      </tr>

                                    </tbody>
                                  </table>


                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>

                    </div>



                  </div>
                </div>

              </div>
            </div>

          </div>
        </div>

        <div id="fav" class="toggle" style="display:none">
          <div class="panel-group">
            <div class="panel panel-default">
              <div class="panel-heading">

                <h3 style="margin:20px"> Favorites</h3>
                <hr style="height:1px">
                <div class="panel-body">
                    
                    <div id="myCarousel3" class="carousel slide" data-interval="false">
                    <div class="carousel-inner">
                      <div class="item active" data-slide="next">
                    
                  <div class="panel panel-default">
                    <ul class="nav nav-tabs" role="tablist" id="tabs">
                      <li role="presentation" class="active"><a href="#fleg" role="tab" data-toggle="tab" style="font-size:13px">Legislators</a></li>
                      <li role="presentation"><a href="#fbill" role="tab" data-toggle="tab" style="font-size:13px">Bills</a></li>
                      <li role="presentation"><a href="#fcom" role="tab" data-toggle="tab" style="font-size:13px">Committees</a></li>
                    </ul>

                    <div class="tab-content">
                      <div role="tabpanel" class="tab-pane active" id="fleg">
                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>Favorite Legislators</b>

                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="center-block">

                                <div class="table-responsive">
                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">
                                        <th class="text-center"></th>

                                        <th>Image</th>

                                        <th>Party</th>

                                        <th>Name</th>

                                        <th>Chamber</th>

                                        <th class="text-center">State</th>
                                        <th class="text-center">Email</th>
                                        <th class="text-center"></th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">

                                      <tr ng-repeat="l in favLeg">

                                        <td width="5%" class="text-center"><a ng-click="removeLeg(l)" id="menu-toggle" class="btn btn-default"><i class="glyphicon glyphicon-trash"></i></a></td>

                                        <td><img height="30" width="30" ng-src="http://theunitedstates.io/images/congress/original/{{l.bioguide_id}}.jpg"></td>

                                        <td><img width="25" height="25" ng-src="{{urlList[l.chamber]}}"></td>

                                        <td>{{l.last_name + ', ' + l.first_name}}</td>

                                        <td><img width="25" height="25" ng-src="{{pic[l.chamber]}}"> {{l.chamber | capitalize}}</td>

                                        <td class="text-center">{{state[l.state]}}</td>

                                        <td class="text-center">{{l.oc_email}}</td>

                                        <td>
                                          <button type="button" class="btn btn-primary" ng-click="getFavId(l.bioguide_id,l.chamber)" data-slide="next">View Detail</button>
                                        </td>


                                      </tr>

                                    </tbody>
                                  </table>

                                </div>


                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="fbill">

                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>Favorite Bills</b>
                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="table-responsive">

                                <div class="center-block">

                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">

                                        <th class="text-center"></th>

                                        <th>Bill ID</th>

                                        <th width="1%">Bill Type</th>

                                        <th>Title</th>

                                        <th>Chamber</th>
                                        <th>Introduced On</th>
                                        <th>Sponsor</th>
                                        <th></th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">
<!--<div >-->
                                      <tr ng-repeat="x in favBill">

                                        <td width="5%" class="text-center"><a ng-click="removeBill(x)" id="menu-toggle" class="btn btn-default"><i class="glyphicon glyphicon-trash"></i></a></td>

                                        <td>{{x.bill_id | uppercase}}</td>

                                        <td>{{x.bill_type | uppercase}}</td>

                                        <td>{{x.official_title}}</td>

                                        <td><img width="25" height="25" ng-src="{{pic[x.chamber]}}"> {{x.chamber | capitalize}}</td>
                                        <td>{{x.official_title}}</td>
                                        <td>{{x.sponsor.title+'.'+x.sponsor.last_name+', '+x.sponsor.first_name}}</td>
                                        <td>
                                            <button type="button" class="btn btn-primary" ng-click="getFavBill(x.bill_id)" data-slide="next">View Detail</button>
                                        </td>
                                      </tr>
<!--</div>-->
                                    </tbody>
                                  </table>
                                </div>
                              </div>

                            </div>
                          </div>
                        </div>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="fcom">

                        <div class="panel-body" id="noSpace">
                          <div class="panel panel-default">

                            <div class="panel-heading" style="height: 3.5em"><b>Favorite Committees</b>

                            </div>

                            <div class="panel-body" id="noSpace">

                              <div class="table-responsive">

                                <div class="center-block">

                                  <table class="table">

                                    <thead class="text-center">

                                      <tr class="text-center">

                                        <th class="text-center"></th>

                                        <th width="11%" class="text-center">Chamber</th>

                                        <th width="14%" style="align:left">Committee ID</th>

                                        <th>Name</th>
                                        <th>Parent Committee</th>
                                        <th>Sub Committee</th>

                                      </tr>

                                    </thead>

                                    <tbody id="table">

                                      <tr ng-repeat="f in favHouse">

                                        <td class="text-center"><a ng-click="removeComm(f)" id="menu-toggle" class="btn btn-default"><i  class="glyphicon glyphicon-trash"></i></a></td>

                                        <td width="1%" class="text-center"><img width="25" height="25" ng-src="{{pic[f.chamber]}}"> {{f.chamber | capitalize}}</td>

                                        <td>{{f.committee_id | uppercase}}</td>

                                        <td>{{f.name}}</td>
                                        <td>{{f.parent_committee_id | uppercase}}</td>
                                        <td>{{f.subcommittee}}</td>


                                      </tr>

                                    </tbody>
                                  </table>


                                  </div>
                                </div>
                              </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                        
                         <div class="item" ng-hide="noFavBill">
                        <div ng-repeat="q in newBilling">
                          <div class="panel panel-default">
                            <div class="panel-body"><a href="#myCarousel3" class="btn btn-default" data-slide="prev"><i class=" glyphicon glyphicon-chevron-left"></i></a><span style="font-size:1.5em">&nbsp;&nbsp;Details</span><span class="pull-right"><a ng-click="billFav(q)" class="btn btn-default"><i id="{{q.bill_id}}2"  class="custom1 glyphicon glyphicon-star"></i></a></span>

                              <div class="panel panel-default">

                                     <div class="row">
                                           <div class="col-xs-12 col-md-6">
                                   <div class="table-responsive">
                                    <table class="table">
                                          
                                    <tr>
                                      <th>Bill ID</th>
                                      <td>{{q.bill_id | uppercase}}</td>
                                    </tr>
                                    <tr>
                                      <td id="e"><b>Title</b></td>
                                      <td id="e">{{q.official_title}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Bill Type</b></td>
                                      <td>{{q.bill_type | uppercase}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Sponsor</b></td>
                                      <td>{{q.sponsor.title +'. '+ q.sponsor.last_name +', '+ q.sponsor.first_name }}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Chamber</b></td>
                                      <td>{{q.chamber | capitalize}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Status</b></td>
                                      <td>{{statCheck[q.history.active]}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Introduced On</b></td>
                                      <td>{{q.introduced_on}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Congress URL</b></td>
                                      <td><a href="{{q.urls.congress}}" target="_blank">URL</a></td>
                                    </tr>
                                    <tr>
                                      <td><b>Version Status</b></td>
                                      <td>{{q.last_version.version_name}}</td>
                                    </tr>
                                    <tr>
                                      <td><b>Bill URL</b></td>
                                      <td><a href="{{q.last_version.urls.pdf}}" target="_blank">LINK</a></td>
                                    </tr>



                                  </table>
                                          </div></div>
                                          <div class=" col-md-6 col-xs-12" align="left">
                                        <div >
                                          <object id="pdf" data="{{q.last_version.urls.pdf}}" type="application/pdf" >
                                            <a href="q.last_version.urls.pdf"></a>
                                          </object>
                                            </div></div>
                                  
                                  </div>
                              
                                </div>

                            </div>
                          </div>
                        </div>
                      </div>
                        
                        <div class="item" ng-hide="noLegData">
                        <div ng-repeat="p in newFavLeg">
                          <div class="panel panel-default">
                            <div class="panel-body"><a href="#myCarousel3" class="btn btn-default" data-slide-to="0"><i class=" glyphicon glyphicon-chevron-left"></i></a><span style="font-size:1.5em">&nbsp;&nbsp;Details</span><span class="pull-right"><a ng-click="legFav(p)" class="btn btn-default"><i id="{{p.bioguide_id}}1" class="custom1 glyphicon glyphicon-star"></i></a></span>
                              <div class="panel panel-default">
                                
                                  <div class="row">
                               
                              <div class="col-md-6 col-xs-12">
                                  <div class="row">
                                        <div class=" col-md-6 col-xs-12" align="center">
                                      <img height="200px" ng-src="http://theunitedstates.io/images/congress/original/{{p.bioguide_id}}.jpg">
                                        </div>
                                        
                                        <div class="col-xs-12 col-md-6">
                                   <div class="table-responsive">
                                    <table class="table">
                                    
                                        <tr><td>{{p.title+'. '+p.last_name+', '+p.first_name}}</td> </tr>
                                              
                                      
                                       <tr> <td ><a href="{{p.website}}" target="_blank">{{p.website}}</a></td></tr>
                                      
                                      
                                       <tr> <td >Chamber: {{p.chamber | capitalize}}</td></tr>
                                      
                                      
                                       <tr> <td >Contact: <a href="{{p.phone}}">{{p.phone}}</a></td></tr>
                                      
                                      
                                        <tr><td ><img width="25" height="25" ng-src="{{urlList[p.chamber]}}"> {{partyCheck[p.party]}}</td></tr>
                                      
                                      </table>
                                        </div>
                                      </div>
                                  </div>
                                        
                                <div class="table-responsive">
                                    <table class="table">
                                        
                                       <tr> <td id="c"><b>Start Term</b></td><td>{{p.term_start | date : "longDate" }}</td></tr>
                                        
                                      
                                      <tr><td id="c"><b>End Term</b></td> <td>{{p.term_end | date : "longDate"}}</td></tr>
                                                                
                                                                                                                     
                                      <tr> <td id="c"><b>Term</b></td>
                                       
                                        <td id="c">
                                          <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{(n-dateLeg(p.term_start))/(dateLeg(p.term_end)-dateLeg(p.term_start))*100 | number:2}}%">
                                              {{(n-dateLeg(p.term_start))/(dateLeg(p.term_end)-dateLeg(p.term_start))*100 | number:2}}%
                                            </div>
                                          </div>
                                          </td></tr>
                                      
                                      <tr><td id="c"><b>Office</b></td><td>{{p.office}}</td></tr>
                                      
                                      <tr><td id="c"><b>State</b></td><td>{{p.state_name}}</td> </tr>
                                                                            
                                      <tr><td id="c"><b>Fax</b></td><td><a href="{{p.fax}}">{{p.fax}}</a></td> </tr>
                                
                                        <tr><td id="c"><b>Birthday</b></td>  <td>{{p.birthday}}</td>
                                        
                                      
                                      
                                      <tr>
                                        <td id="c"><b>Social Links</b></td>
                                        <td>
                                            <span ng-hide="{{checkTwitter(p)}}"><a href="http://twitter.com/{{p.twitter_id}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/t.png"></a></span>&nbsp;&nbsp;
                                          
                                            <span ng-hide="{{checkFacebook(p)}}"><a href="http://www.facebook.com/{{p.facebook_id}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/f.png"></a></span>                                            
                                            &nbsp;&nbsp;
                                          <a href="{{p.website}}" target="_blank"><img width="25" height="25" ng-src="http://cs-server.usc.edu:45678/hw/hw8/images/w.png"></a>
                                        </td>
                                      </tr>
                                    </table>
                                  </div>
                                    
                                  </div>
                                  
                                  
                            
                                <div class="col-md-6 col xs-12">
                                  <div ng-hide="noComm">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr width="10%">
                                            <th>
                                              <h4>Committee</h4></th>
                                            <tr width="10%">
                                              <th>Chamber</th>
                                              <th>Chamber ID</th>
                                              <th id="b">Name</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          <tr ng-repeat="r in newFavComm" width="10%">
                                            <td>{{r.chamber | capitalize}}</td>
                                            <td>{{r.committee_id | uppercase}}</td>
                                            <td id="b">{{r.name}}</td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                  <div ng-hide="nobill">
                                    <div class="table-responsive">
                                      <table class="table">
                                        <thead>
                                          <tr width="10%">
                                            <th>
                                              <h4>Bills</h4></th>
                                            <tr width="10%">
                                              <th>Bill ID</th>
                                              <th id="a">Title</th>
                                              <th id="a">Chamber</th>
                                              <th id="a">Bill Type</th>
                                              <th id="a">Congress</th>
                                              <th>Link</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                          <tr ng-repeat="s in newBidding" width="10%">
                                            <td>{{s.bill_id | uppercase}}</td>
                                            <td id="a" width="10%">{{s.official_title}}</td>
                                            <td id="a">{{s.chamber | capitalize}}</td>
                                            <td id="a">{{s.bill_type | uppercase}}</td>
                                            <td id="a">{{s.congress}}</td>
                                            <td><a href="{{s.last_version_urls_pdf}}" target="_blank">LINK</a></td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>

                                </div>
                                  </div>  

                              </div>

                            </div>
                          </div>

                        </div>
                      </div>
                         
                    </div>
                        
                        

                  </div>



                </div>
              </div>

            </div>
          </div>

        </div>
      </div>

              </div>
    
          </div>
    </div>
        


      <script>
      
          $("#showmenu").click(function(e) {
        e.preventDefault();
              $("#wrapper").toggleClass("toggled");
    });
          
      /*$('#showmenu').click(function() {
        var hidden = $('.sidebarmenu').data('hidden');
          
        if (hidden) {
          $('.sidebarmenu').animate({
            left: '0.01em'
          });
            
            if($(window).width()>850){
            //alert("rr");
               $("#main").animate({
            paddingTop: '2em',
            paddingLeft: '190px',
                   
          });
            
            }else{
           
            $("#main").animate({
            paddingTop: '2em',
            paddingLeft: '6em',
          }); 
            }
          
        } else {
          $('.sidebarmenu').animate({
            left: '-200px'
          });
          $("#main").animate({
            paddingTop: '2em',
            paddingLeft: '0'
          });
        }
        $('.sidebarmenu,.image').data("hidden", !hidden);

      });*/

      $("#mySidenav a").click(function(e) {
        e.preventDefault();
        $(".toggle").hide();
        var toShow = $(this).attr('href');
        $(toShow).show();
      });




      function state_abbr(name) {

        var state = {
          "AL": "Alabama",
          "AK": "Alaska",
          "AS": "American Samoa",
          "AZ": "Arizona",
          "AR": "Arkansas",
          "CA": "California",
          "CO": "Colorado",
          "CT": "Connecticut",
          "DE": "Delaware",
          "DC": "District Of Columbia",
          "FM": "Federated States Of Micronesia",
          "FL": "Florida",
          "GA": "Georgia",
          "GU": "Guam",
          "HI": "Hawaii",
          "ID": "Idaho",
          "IL": "Illinois",
          "IN": "Indiana",
          "IA": "Iowa",
          "KS": "Kansas",
          "KY": "Kentucky",
          "LA": "Louisiana",
          "ME": "Maine",
          "MH": "Marshall Islands",
          "MD": "Maryland",
          "MA": "Massachusetts",
          "MI": "Michigan",
          "MN": "Minnesota",
          "MS": "Mississippi",
          "MO": "Missouri",
          "MT": "Montana",
          "NE": "Nebraska",
          "NV": "Nevada",
          "NH": "New Hampshire",
          "NJ": "New Jersey",
          "NM": "New Mexico",
          "NY": "New York",
          "NC": "North Carolina",
          "ND": "North Dakota",
          "MP": "Northern Mariana Islands",
          "OH": "Ohio",
          "OK": "Oklahoma",
          "OR": "Oregon",
          "PW": "Palau",
          "PA": "Pennsylvania",
          "PR": "Puerto Rico",
          "RI": "Rhode Island",
          "SC": "South Carolina",
          "SD": "South Dakota",
          "TN": "Tennessee",
          "TX": "Texas",
          "UT": "Utah",
          "VT": "Vermont",
          "VI": "Virgin Islands",
          "VA": "Virginia",
          "WA": "Washington",
          "WV": "West Virginia",
          "WI": "Wisconsin",
          "WY": "Wyoming"
        };
        state = state[name];
        return state;
      }




      var app = angular.module("myApp", ['angularUtils.directives.dirPagination']);

      app.filter('capitalize', function() {
        return function(input) {
          return (!!input) ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';
        }
      });


      app.controller("myData", function($scope, $http) {


        var d = new Date();
        $scope.n = d.getTime().toFixed(2);

        $scope.dateLeg = function(d) {

          var myDate = new Date(d);
          var milliseconds = myDate.getTime();
          milliseconds = milliseconds.toFixed(2);
          //console.log(milliseconds);
          return milliseconds;
        }
        
        $scope.nobills = 1;
        $scope.noLegData = 1;
        $scope.noFavBill = 1;
        $scope.noComm = 1;
        $scope.noComms = 1;  
        $scope.noData = 1;
        $scope.nope = 1;
        $scope.nobill = 1;

        $scope.check = function(value) {
          if (value.hasOwnProperty("phone")) {
            return value.phone;
          } else {
            return "N.A";
          }
        }

        $scope.checkOffice = function(value) {
          if (value.hasOwnProperty("office")) { 
            return value.office;
          } else {
            return "N.A";
          }
        }
        
        $scope.checkFacebook = function(value) {
          if (value.hasOwnProperty("facebook_id")) {
              return "false";
          } else {
            return "true";
              
          }
        }
        
        $scope.checkTwitter = function(value) {
          if (value.hasOwnProperty("facebook_id")) {
              return "false";
          } else {
            return "true";
              
          }
        }

        $scope.partyCheck = [];
        $scope.partyCheck["R"] = "Republic";
        $scope.partyCheck["D"] = "Democrat";

        $scope.statCheck = [];
        $scope.statCheck["false"] = "Active";
        $scope.statCheck["true"] = "New";

        $scope.pic = [];
        $scope.pic["house"] = "http://cs-server.usc.edu:45678/hw/hw8/images/h.png";
        $scope.pic["senate"] = "http://cs-server.usc.edu:45678/hw/hw8/images/s.svg";
        $scope.pic["joint"] = "http://cs-server.usc.edu:45678/hw/hw8/images/s.svg";
        $scope.urlList = [];
        $scope.urlList["house"] = "http://cs-server.usc.edu:45678/hw/hw8/images/r.png";
        $scope.urlList["senate"] = "http://cs-server.usc.edu:45678/hw/hw8/images/d.png";
        $scope.state = [];
        $scope.state["AK"] = "Alaska";
        $scope.state["AL"] = "Alabama";
        $scope.state["AR"] = "Arkansas";
        $scope.state["AS"] = "American Samoa";
        $scope.state["AZ"] = "Arizona";
        $scope.state["CA"] = "California";
        $scope.state["CO"] = "Colorado";
        $scope.state["CT"] = "Connecticut";
        $scope.state["DC"] = "District of Columbia";
        $scope.state["DE"] = "Delaware";
        $scope.state["FL"] = "Florida";
        $scope.state["GA"] = "Georgia";
        $scope.state["GU"] = "Guam";
        $scope.state["HI"] = "Hawaii";
        $scope.state["IA"] = "Iowa";
        $scope.state["ID"] = "Idaho";
        $scope.state["IL"] = "Illinois";
        $scope.state["IN"] = "Indiana";
        $scope.state["KS"] = "Kansas";
        $scope.state["KY"] = "Kentucky";
        $scope.state["LA"] = "Louisiana";
        $scope.state["MA"] = "Massachusetts";
        $scope.state["MD"] = "Maryland";
        $scope.state["ME"] = "Maine";
        $scope.state["MI"] = "Michigan";
        $scope.state["MN"] = "Minnesota";
        $scope.state["MO"] = "Missouri";
        $scope.state["MS"] = "Mississippi";
        $scope.state["MT"] = "Montana";
        $scope.state["NC"] = "North Carolina";
        $scope.state["ND"] = "North Dakota";
        $scope.state["NE"] = "Nebraska";
        $scope.state["NH"] = "New Hampshire";
        $scope.state["NJ"] = "New Jersey";
        $scope.state["NM"] = "New Mexico";
        $scope.state["NV"] = "Nevada";
        $scope.state["NY"] = "New York";
        $scope.state["OH"] = "Ohio";
        $scope.state["OK"] = "Oklahoma";
        $scope.state["OR"] = "Oregon";
        $scope.state["PA"] = "Pennsylvania";
        $scope.state["PR"] = "Puerto Rico";
        $scope.state["RI"] = "Rhode Island";
        $scope.state["SC"] = "South Carolina";
        $scope.state["SD"] = "South Dakota";
        $scope.state["TN"] = "Tennessee";
        $scope.state["TX"] = "Texas";
        $scope.state["UT"] = "Utah";
        $scope.state["VA"] = "Virginia";
        $scope.state["VI"] = "Virgin Islands";
        $scope.state["VT"] = "Vermont";
        $scope.state["WA"] = "Washington";
        $scope.state["WI"] = "Wisconsin";
        $scope.state["WV"] = "West Virginia";
        $scope.state["WY"] = "Wyoming";

        $http({
          method: 'get',
          url: 'index1.php?variable=bills'

        }).then(function(response) {
          $scope.bills = response.data.results;
            console.log($scope.bills);
        });
          
        $http({
          method: 'get',
          url: 'index1.php?variable=new'

        }).then(function(response) {
          $scope.New = response.data.results;
            console.log($scope.New);
        });  

        $http({
          method: 'get',
          url: 'index1.php?variable=legis'

        }).then(function(response) {
          $scope.legis2 = response.data.results;
          $scope.legis1 = response.data.results;
          $scope.legis = response.data.results;

        });
          
         

        $scope.getId = function(id, comm) {

                                
          $http({
            method: 'get',
            url: 'index1.php?variable=id',
            params: {
              "param1": id
            }

          }).then(function(response) {

            $scope.newLeg = response.data.results;
            

           
          });

          $http({
            method: 'get',
            url: 'index1.php?variable=cid',
            params: {
              "param3": comm
            }

          }).then(function(response) {
            $scope.newComm = response.data.results;

           // $("#myCarousel").carousel(1);

          });

          $http({
            method: 'get',
            url: 'index1.php?variable=bid',
            params: {
              "param4": comm
            }

          }).then(function(response) {
            $scope.newBid = response.data.results;
            
              $scope.noData = 0;
            $scope.noComm = 0;
            $scope.nobill = 0;
              
        

          });
            
         
               $("#myCarousel").carousel(1);

        };
          
          $scope.star=function(id){
               
           $scope.try = JSON.parse(sessionStorage.getItem('session'));
            console.log($scope.try);
            if ($scope.try != null && $scope.try != 0){
                for($scope.d = 0; $scope.d < $scope.try.length; $scope.d++){
                if($scope.try[$scope.d].bioguide_id==id){
                  
          
               return ' custom1 glyphicon glyphicon-star';
                }
                    
            }
                return ' glyphicon glyphicon-star-empty';  
            }
            else{
                
               return ' glyphicon glyphicon-star-empty'; 
            }

              
          };
          
             $scope.starBill=function(id){
               
           $scope.try = JSON.parse(sessionStorage.getItem('object'));
            console.log($scope.try);
            if ($scope.try != null && $scope.try != 0){
                for($scope.d = 0; $scope.d < $scope.try.length; $scope.d++){
                if($scope.try[$scope.d].bill_id==id){
                  
          
               return ' custom1 glyphicon glyphicon-star';
                }
                    
            }
                return ' glyphicon glyphicon-star-empty';  
            }
            else{
                
               return ' glyphicon glyphicon-star-empty'; 
            }

              
          };
          
          $scope.starComm = function(id){
              
            $scope.try = JSON.parse(sessionStorage.getItem('ob1'));
            console.log($scope.try);
            if ($scope.try != null && $scope.try != 0){
                for($scope.d = 0; $scope.d < $scope.try.length; $scope.d++){
                if($scope.try[$scope.d].committee_id==id){
                  
          
               return ' custom1 glyphicon glyphicon-star';
                }
                    
            }
                return ' glyphicon glyphicon-star-empty';  
            }
            else{
                
               return ' glyphicon glyphicon-star-empty'; 
            }  
          };
          
        $scope.getFavId = function(id,comm){
          
              $http({
            method: 'get',
            url: 'index1.php?variable=id',
            params: {
              "param1": id
            }

          }).then(function(response) {

            $scope.newFavLeg = response.data.results;
                                           

           // $("#myCarousel3").carousel(2);

          });

          $http({
            method: 'get',
            url: 'index1.php?variable=cid',
            params: {
              "param3": comm
            }

          }).then(function(response) {
            $scope.newFavComm = response.data.results;

           // $("#myCarousel3").carousel(2);

          });

          $http({
            method: 'get',
            url: 'index1.php?variable=bid',
            params: {
              "param4": comm
            }

          }).then(function(response) {
            $scope.newBidding = response.data.results;
            
              $scope.noFavBill = 1;
            $scope.noLegData = 0;
            $scope.noComms = 0;
            $scope.nobills = 0;
              
           

          }); $("#myCarousel3").carousel(2);
        };  

        $scope.getBill = function(billId) {
            
            //$scope.f=y;
            
          $http({
            method: 'get',
            url: 'index1.php?variable=bill',
            params: {
              "param2": billId
            }

          }).then(function(response) {
            $scope.newBill = response.data.results;
            $scope.nope = 0;
             
           
           

          });$("#myCarousel2").carousel(1);
        };
          
          $scope.getFavBill = function(billing){
              $http({
            method: 'get',
            url: 'index1.php?variable=billin',
            params: {
              "param5": billing
            }

          }).then(function(response) {
            $scope.newBilling = response.data.results;
            $scope.noFavBill = 0;
             
           
           

          });$("#myCarousel3").carousel(1);
          };

        $http({
          method: 'get',
          url: 'index1.php?variable=commit'

        }).then(function(response) {
          $scope.committee = response.data.results;

        });

        $scope.houseFav = function(obj) {
            
            var hid=obj.committee_id;
            hid = "#" + hid + "";
            $(hid).removeClass('glyphicon-star-empty').addClass('custom1 glyphicon-star');
  
             
          var counter=0;
          $scope.favHouse = [];
          $scope.g = [];
          $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));

          if ($scope.favHouse == null || $scope.favHouse==0) {
            $scope.g.push(obj);
            sessionStorage.setItem('ob1', JSON.stringify($scope.g));
            $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));
            
              
        
            console.log($scope.favHouse);

          } else {
              for ($scope.b = 0; $scope.b<$scope.favHouse.length; $scope.b++) {
                        if ($scope.favHouse[$scope.b].committee_id == obj.committee_id) {
                            console.log($scope.favHouse);
                            counter++;
                            break;
                            }
              }
              if(counter==1){
                  $scope.removeComm(obj);
                  
              }if(counter==0){
                 
                  $scope.favHouse.push(obj);
            sessionStorage.setItem('ob1', JSON.stringify($scope.favHouse));
            $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));
                  

            console.log($scope.favHouse);
   
              }
        
          }
            
        }
    
        $scope.billFav = function(obj) {
            
            var h=obj.bill_id;
            h = "#" + h + "";

            $(h).removeClass('glyphicon-star-empty').addClass('custom1 glyphicon-star');
      

          $scope.favBill = [];
          $scope.p = [];
          $scope.favBill = JSON.parse(sessionStorage.getItem('object'));
                var counter=0;
          if ($scope.favBill == null || $scope.favBill==0) {

            $scope.p.push(obj);
            sessionStorage.setItem('object', JSON.stringify($scope.p));
            $scope.favBill = JSON.parse(sessionStorage.getItem('object'));

            console.log($scope.favBill);

          } else {
                for ($scope.b = 0; $scope.b<$scope.favBill.length; $scope.b++) {
                        if ($scope.favBill[$scope.b].bill_id == obj.bill_id) {
                           
                            console.log($scope.favBill);
                            counter++;
                            break;
                            }
                }
              
              if(counter==1){
                   $scope.removeBill(obj);
                  
              }if(counter==0){
                 $scope.favBill.push(obj);
                         sessionStorage.setItem('object', JSON.stringify($scope.favBill));
                         $scope.favBill = JSON.parse(sessionStorage.getItem('object'));
                          
                  }
              }
        }      
                      
        $scope.legFav = function(obj) {

          var l=obj.bioguide_id;
            l = "#" + l + "";
            $(l).removeClass('glyphicon-star-empty').addClass('custom1 glyphicon-star');
        
        
          var counter=0;    
          $scope.favLeg = [];
          $scope.j = [];
          $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));

            if ($scope.favLeg == null || $scope.favLeg==0) {
                
                $scope.j.push(obj);
                sessionStorage.setItem('session', JSON.stringify($scope.j));
                $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));

                console.log($scope.favLeg);

              } else {
                   for ($scope.j = 0;  $scope.j<$scope.favLeg.length; $scope.j++) {
                        if ($scope.favLeg[$scope.j].bioguide_id == obj.bioguide_id) {
                                counter++;
                                break;
                            }
                   }
                  if(counter==1){
                        $scope.removeLeg(obj);
                      
                  }if(counter==0){
                      $scope.favLeg.push(obj);
                      sessionStorage.setItem('session', JSON.stringify($scope.favLeg));
                      $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));
                           
                  }
                       
                }
            
          }
        
        $scope.removeLeg = function(object) {

            var r=object.bioguide_id;
            r = "#" + r + "";
            $(r).removeClass('custom1 glyphicon-star').addClass('glyphicon-star-empty');
            //alert(r+'1');
            $(r+'1').removeClass('custom1 glyphicon-star').addClass('glyphicon-star-empty');
      

          $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));
          console.log($scope.favLeg);
          if ($scope.favLeg != null) {
            for ($scope.i = 0; $scope.i < $scope.favLeg.length; $scope.i++) {

              if ($scope.favLeg[$scope.i].bioguide_id == object.bioguide_id) {

                $scope.favLeg.splice([$scope.i], 1);

              }
              sessionStorage.setItem('session', JSON.stringify($scope.favLeg));
              console.log($scope.favLeg);
            }
            $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));
          }
        }

        $scope.removeBill = function(ob) {
            
            var b=ob.bill_id;
            b = "#" + b + "";
            $(b).removeClass('custom1 glyphicon-star').addClass('glyphicon-star-empty');
      
            
            $(b+'2').removeClass('custom1 glyphicon-star').addClass('glyphicon-star-empty');
      
          $scope.favBill = JSON.parse(sessionStorage.getItem('object'));
          console.log($scope.favBill);
          if ($scope.favBill != null) {
            for ($scope.i = 0; $scope.i < $scope.favBill.length; $scope.i++) {

              if ($scope.favBill[$scope.i].bill_id == ob.bill_id) {

                $scope.favBill.splice([$scope.i], 1);

              }
              sessionStorage.setItem('object', JSON.stringify($scope.favBill));
              console.log($scope.favBill);
            }
            $scope.favBill = JSON.parse(sessionStorage.getItem('object'));
          }
        }

        $scope.removeComm = function(Ob) {
            
            var c=Ob.committee_id;
            c = "#" + c + "";
            $(c).removeClass('custom1 glyphicon-star').addClass('glyphicon-star-empty');
      
          $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));
          console.log($scope.favHouse);
          if ($scope.favHouse != null) {
            for ($scope.i = 0; $scope.i < $scope.favHouse.length; $scope.i++) {

              if ($scope.favHouse[$scope.i].committee_id == Ob.committee_id) {

                $scope.favHouse.splice([$scope.i], 1);

              }
              sessionStorage.setItem('ob1', JSON.stringify($scope.favHouse));
              console.log($scope.favHouse);
            }
            $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));
          }
            
        }

        $scope.refresh = function(){
            
            $scope.favHouse = JSON.parse(sessionStorage.getItem('ob1'));
            $scope.favBill = JSON.parse(sessionStorage.getItem('object'));
            $scope.favLeg = JSON.parse(sessionStorage.getItem('session'));
            if ($scope.favLeg != null || $scope.favLeg!=0){
                $scope.favLeg = JSON.parse(sessionStorage.get('session'));
            }
            
            
            if ($scope.favBill != null || $scope.favBill!=0){
                $scope.favBill = JSON.parse(sessionStorage.get('object'));
            }
            
            
            if ($scope.favHouse != null || $scope.favHouse!=0){
                $scope.favHouse = JSON.parse(sessionStorage.get('ob1'));
            }
            
            
        }









      });

    </script>


</body>

</html>
